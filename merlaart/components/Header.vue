<template>
  <header class="header">
    <div class="header__controls">
      <div class="header__logo">
        <a href="/">
          <!-- –õ–æ–≥–æ—Ç–∏–ø —á–µ—Ä–µ–∑ –º–∞—Å–∫—É -->
          <div class="logo-mask"></div>
        </a>
      </div>
      <div class="header__language-switcher">
        <a href="?lang=ru">RU</a> / <a href="?lang=en">ENG</a>
      </div>
      <button class="theme-switcher" @click="toggleTheme">
        {{ isDarkMode ? 'üåô Dark' : '‚òÄÔ∏è Light' }}
      </button>
    </div>

    <nav class="header__nav">
      <ul>
        <li><a href="/gallery">–ì–∞–ª–µ—Ä–µ—è</a></li>
        <li><a href="/about">–û–±–æ –º–Ω–µ</a></li>
        <li><a href="/contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
      </ul>
    </nav>
  </header>
</template>

<script setup>
import { ref, onMounted } from 'vue';
import logo from '~/assets/img/logo/logo.svg'; // –ü—É—Ç—å –∫ SVG –ª–æ–≥–æ—Ç–∏–ø—É

// –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–π —Ç–µ–º—ã
const isDarkMode = ref(false);

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã
const toggleTheme = () => {
  isDarkMode.value = !isDarkMode.value;
  document.documentElement.classList.toggle('dark', isDarkMode.value);
  localStorage.setItem('theme', isDarkMode.value ? 'dark' : 'light');
};

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —Ç–µ–º—ã –∏–∑ localStorage –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
onMounted(() => {
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme) {
    isDarkMode.value = savedTheme === 'dark';
    document.documentElement.classList.toggle('dark', isDarkMode.value);
  }
});
</script>

<style scoped>
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.header__controls {
  display: flex;
  align-items: center;
}

.header__logo {
  margin-right: 20px;
}


.logo-mask {
  width: 100px; 
  height: 100px;
  background-color: var(--background-tertiary); /* –¶–≤–µ—Ç –ª–æ–≥–æ—Ç–∏–ø–∞ –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ */
  mask: url('../assets/img/logo/logo.svg') no-repeat center / contain; /* –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∞—Å–∫–∏ */
  -webkit-mask: url('../assets/img/logo/logo.svg') no-repeat center / contain; /* –ú–∞—Å–∫–∞ –¥–ª—è WebKit –±—Ä–∞—É–∑–µ—Ä–æ–≤ */
}

.theme-switcher {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 1rem;
  color: var(--background-tertiary);
  margin-left: 1rem;
}

.theme-switcher:hover {
  opacity: 0.8;
}
</style>
